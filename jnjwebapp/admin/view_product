<?php
// Define database connection parameters
$host = 'localhost';
$dbname = 'jnjgiftsgalore_db';
$username = 'root';
$password = '';

// Create a new database connection
$conn = new mysqli($host, $username, $password, $dbname);

// Check for errors
if ($conn->connect_error) {
    die('Connection failed: ' . $conn->connect_error);
}

// Retrieve product details
if (isset($_GET['id'])) {
    $id = $_GET['id'];
    $sql = "SELECT p.*, c.CategoryName
            FROM products p
            INNER JOIN categories c ON p.CategoryID = c.CategoryID
            WHERE p.ProductID = $id";
    $result = $conn->query($sql);
    if ($result->num_rows > 0) {
        $row = $result->fetch_assoc();
        echo "
        <h2>Product Details</h2>
        <table>
            <tr>
                <th>Photo</th>
                <td><img src='images/{$row['PhotoMain']}'></td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{$row['Name']}</td>
            </tr>
            <tr>
                <th>Price</th>
                <td>{$row['productprice']}</td>
            </tr>
            <tr>
                <th>Category</th>
                <td>{$row['CategoryName']}</td>
            </tr>
            <tr>
                <th>Status</th>
                <td>{$row['ProductStatus']}</td>
            </tr>
        </table>
        ";
    } else {
        echo "Product not found.";
        exit();
    }
} else {
    echo "Product ID not provided.";
    exit();
}
?>